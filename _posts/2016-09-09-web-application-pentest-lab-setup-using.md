---
title: 'Web Application Pentest Lab setup Using Docker'
date: 2019-09-29T18:52:00+01:00
draft: false
---

For web application penetration practice, we all look for vulnerable applications like DVWA and attempt to configure vulnerable practice environments. As we all know, it’s time consuming activity and it takes a lot of effort, but this can be done in a couple of minutes with the help of the docker.

In this post you will learn how to configure vulnerable web applications (DVWA, BWAPP & etc) with the help of docker.

### Table of Content

*   Requirement
*   Objective
*   Web application
*   DVWA
*   Mutillidae
*   bWAPP
*   Another Method

**Requirement-Ubuntu 18.0**

**Objective:**

Configure web application server on docker

### **Web Application**

A web application is a remote server software application. In general, web browsers are used through a network, such as an internet, to access Web applications. Like a software program running on a desktop or desktop application, the Web-app permits interaction with the user and can be designed for a wide range of applications.

### **Docker**

Docker is a third-party tool developed to create an isolated environment to execute any application. These applications are run using containers. These containers are unique because they bring together all the dependencies of an application into a single package and deploy it.  Now, to work with docker you will need to install docker-engine in your host.

Run following the command to install docker:

```
apt update  
apt install docker.io
```

![](https://i0.wp.com/1.bp.blogspot.com/-LLt2x_Mr0Hk/XZDqahw7jOI/AAAAAAAAgwA/kSwtb0Igbt08wFC0aXTuVjkaJ8MZ1Np6QCLcBGAsYHQ/s1600/1.png?w=687&ssl=1)

Then execute the following command to activate docker

```
systemctl start docker  
systemctl enable docker
```

![](https://i1.wp.com/1.bp.blogspot.com/-OjfAtrXHr1c/XZDqiJg3DKI/AAAAAAAAgwk/oDboOyAF508CLY2AMR8pKfZQCObTDHBQACLcBGAsYHQ/s1600/2.png?w=687&ssl=1)

And we have installed docker version 18.09.7 in our local machine.

![](https://i0.wp.com/1.bp.blogspot.com/-9H54T8y30mc/XZDqkrKcunI/AAAAAAAAgxA/RitpMmv35YEhfVMCOuJGUnVWr30S42dqgCLcBGAsYHQ/s1600/3.png?w=687&ssl=1)

### **Configure DVWA on Docker**

Damn Vulnerable Web Application (DVWA) is a PHP/MySQL web application that is damn vulnerable. Its main goal is to be an aid for security professionals to test their skills and tools in a legal environment, help web developers better understand the processes of securing web applications and to aid both students & teachers to learn about web application security in a controlled classroom environment.

The aim of DVWA is to practice some of the most common web vulnerabilities, with various levels of difficulty, with a simple straightforward interface. Please note, there are both documented and undocumented vulnerabilities with this software. This is intentional. You are encouraged to try and discover as many issues as possible.

To install and configure DVWA through docker is quite simple then manual approach, you can search for its docker image directly by typing following command on the terminal.

```
docker search web-dvwa
```

![](https://i1.wp.com/1.bp.blogspot.com/-pbJuG7gqNHI/XZDqlKwpwjI/AAAAAAAAgxE/awLk5NrcW4k8l0jHOAlhAIfIvHaEy9--ACLcBGAsYHQ/s1600/4.png?w=687&ssl=1)

Here you can observe that it has shown the docker image for dvwa as per given rating and even you can search for the same over the internet. You will obtain the same output as shown below.

![](https://i2.wp.com/1.bp.blogspot.com/-3jRV8H0wo7o/XZDqlUKd1mI/AAAAAAAAgxM/4AnsDUfO39E9wv2YA4uYOC7r_tgR9ExuQCLcBGAsYHQ/s1600/5.1.png?w=687&ssl=1)

Now we can directly pull the package by executing the following command:

```
docker pull vulnerables/web-dvwa
```

![](https://i2.wp.com/1.bp.blogspot.com/-B24B3hIFPEU/XZDqlSSzFeI/AAAAAAAAgxI/udoEnsMMUQowm2rk9im3UTtvOG4xueBYgCLcBGAsYHQ/s1600/5.png?w=687&ssl=1)

And then to start docker service for dvwa; enter below command in your terminal.

```
docker run -p 80:80 vulnerables/web-dvwa
```

![](https://i0.wp.com/1.bp.blogspot.com/-vc7QQs7cOJI/XZDqmAIp5kI/AAAAAAAAgxQ/xWbKyfr_oN0FN-qWBRDHNG3hUK-q-D1NgCLcBGAsYHQ/s1600/6.png?w=687&ssl=1)

Good! We have successfully configured the dvwa lab in ubuntu as we can see that we are welcomed by the login page.

![](https://i2.wp.com/1.bp.blogspot.com/-RVhud7m7V7Y/XZDqmBkt6oI/AAAAAAAAgxU/mbWNBdpuLDcJraT9ixOO468DrTS-5KwjACLcBGAsYHQ/s1600/7.png?w=687&ssl=1)

Enter the following URL and click on Create/Reset Database.

```
http://localhost/dvwa/setup.php
```

![](https://i0.wp.com/1.bp.blogspot.com/-eBCWSMs2Z3s/XZDqmd6sW5I/AAAAAAAAgxY/zFYmAmw45Tsh-4UFX4uQWPYvY0e6ahrbwCLcBGAsYHQ/s1600/8.png?w=687&ssl=1)

Once the database will get create you can login into application to access the web console.

![](https://i1.wp.com/1.bp.blogspot.com/-VeE6u3P3t6c/XZDqm4_UCDI/AAAAAAAAgxc/LY7NkF3b_WQ2RBpWyxkL6Ou9aSAHgQ56QCLcBGAsYHQ/s1600/9.png?w=687&ssl=1)

And we have our DVWA application ready for use, thus we can see it required very less effort.

![](https://i2.wp.com/1.bp.blogspot.com/-Mm7OFoyu3Uk/XZDqa3sL4GI/AAAAAAAAgwE/p7YuBBcn5uA85YWFHMpqjUayKkSafIvCgCLcBGAsYHQ/s1600/10.png?w=687&ssl=1)

### **Configure Mutillidae on Docker**

OWASP Mutillidae is a free open source purposely vulnerable web application providing an enthusiastic goal for web security. It’s a laboratory which provides a complete test environment for those who are interested in SQL injection acquisition or improvement. This is an easy-to-use Web hacking environment designed for laboratories, security lovers, classrooms, CTFs, and vulnerability assessment targets, and has dozens of vulnerabilities and tips to help the user.

Similarly, we can run mutillidae using docker without wasting much time in manual configuration. Repeat the same step as done before, first pull the package and then use the docker to start mutillidae over a specific port.

```
docker pull szsecurity/mutillidae  
docker run -p 1337:80 szsecurity/mutillidae
```

**![](https://i1.wp.com/1.bp.blogspot.com/-Kg6uIT2o1wA/XZDqarxnNWI/AAAAAAAAgv8/KxI--U_UsMsEZbrZe5vuSEkGt0x4Sj0fgCLcBGAsYHQ/s1600/11.png?w=687&ssl=1)**

This time we had chosen port 1137 to launch the mutillidae application. Thus, we will open this our local browser by the following URL: localhost:1337 where we will find an option of reset database. Just click on it to reset the database.

![](https://i0.wp.com/1.bp.blogspot.com/-yhUnYFA_4ZI/XZDqb1oBWyI/AAAAAAAAgwI/IVzIuS9pPXMFDDUjWx1aJCCD5CdBa7ChwCLcBGAsYHQ/s1600/12.png?w=687&ssl=1)

### **Configure** **WebGoat on Docker**

WebGoat is a deliberately insecure web application maintained by OWASP designed to teach web application security lessons.

This program is a demonstration of common server-side application flaws. The exercises are intended to be used by people to learn about application security and penetration testing techniques.

Similarly, we can run WebGoat using docker without wasting much time in manual configuration. Repeat the same step as done before, first pull the package and then use the docker to start WebGoat over a specific port.

```
docker pull szsecurity/webgoat
```

![](https://i0.wp.com/1.bp.blogspot.com/-QqhaYABiHtg/XZDqby1VZhI/AAAAAAAAgwM/Ma69NcodxNcR380a3zi_3DZMVSARvh_DACLcBGAsYHQ/s1600/13.png?w=687&ssl=1)

```
docker run -p 1337:80 szsecurity/webgoat
```

![](https://i0.wp.com/1.bp.blogspot.com/-U2rWhEBB5Qs/XZDqcOJISbI/AAAAAAAAgwQ/f5ohwekFXIEKCIZUbAnjGwcf8vlA2plBwCLcBGAsYHQ/s1600/14.png?w=687&ssl=1)

To access the webgoat application run following URL in the web browser.

```
http://localhost:1337/WebGoat
```

![](https://i2.wp.com/1.bp.blogspot.com/-NWNENgnuv2E/XZDqcv4LHOI/AAAAAAAAgwU/cHcE67zpD5oGXDuXD1x8DlWM0K6nSht7gCLcBGAsYHQ/s1600/15.png?w=687&ssl=1)

### **Configure** b**WAPP on Docker**

A buggy web application that is purposely unsafe. Enthusiasts of security, system engineers, developers can find out about Web vulnerabilities and prevent them.

Repeat the same approach and execute following command to pull its docker image.

```
docker pull raesene/bwapp
```

![](https://i2.wp.com/1.bp.blogspot.com/-qtE0OQk_h4I/XZDqg18PCOI/AAAAAAAAgwY/-gBhTT1k6fwvGjL3Dn2Ku4daajYo33l9ACLcBGAsYHQ/s1600/16.png?w=687&ssl=1)

then use the docker to start WebGoat over a specific port.

```
docker run -d -p 8080:80 raesene/bwapp
```

**![](https://i2.wp.com/1.bp.blogspot.com/-lYmYCNWf4qQ/XZDqhGNSZ_I/AAAAAAAAgwc/FJSdr0CPk8AgnmoHdVom0bZSrtUG4ZYTQCLcBGAsYHQ/s1600/17.png?w=687&ssl=1)**

Now go to your browser and open bWAPP installation file by the following command and click on here as shown in the image below

```
http://localhost:8080/install.php
```

![](https://i0.wp.com/1.bp.blogspot.com/-xb8Z0xrteoA/XZDqhX0GCJI/AAAAAAAAgwg/frwCVMWtMIIb_kbLiHOJMoNfRBrkzN5ZgCLcBGAsYHQ/s1600/18.png?w=687&ssl=1)

Now you will get a login page of bWAPP where we will use the default username which is **bee** and default password which is **bug** and you are logged in in bWAPP.

![](https://i0.wp.com/1.bp.blogspot.com/-ayvjnV5tjPQ/XZDqiomQ2iI/AAAAAAAAgws/VJfX8UIhVmArKO4birXfuL3C_mnxwebrACLcBGAsYHQ/s1600/19.png?w=687&ssl=1)

Enter the credential bee:bug and get access of the web console.

![](https://i2.wp.com/1.bp.blogspot.com/-TjRSr2cLThE/XZDqibi1r7I/AAAAAAAAgwo/GXWY4wec22AR934UYmrIYHXNM9Uqd9t4ACLcBGAsYHQ/s1600/20.png?w=687&ssl=1)

Now you can start working on bWAPP.

![](https://i2.wp.com/1.bp.blogspot.com/-9eTR1P8DZZ4/XZDqjAbfTfI/AAAAAAAAgww/cWsLoFSGgGsawmIK14o1SU_QXkkg6_CCQCLcBGAsYHQ/s1600/21.png?w=687&ssl=1)

### **Another Method**

We can use PentestLab Management Script because this script uses docker and hosts alias to make web apps available on localhost” and it can pull the following applications.

*   bWAPP
*   WebGoat 7.1
*   WebGoat 8.0
*   Damn Vulnerable Web App
*   Mutillidae II
*   OWASP Juice Shop
*   WPScan Vulnerable WordPress
*   OpenDNS Security Ninjas
*   Altoro Mutual

Install and configure PentestLab Management Script

```
git clone https://github.com/eystsen/pentestlab.git  
cd pentestLab  
./pentestLab.sh --help
```

![](https://i1.wp.com/1.bp.blogspot.com/-F_VITwBy7bk/XZDqjocwGZI/AAAAAAAAgw0/uCWIoHTJHvwUmCrlHOVKsE2SVp-ehj9SgCLcBGAsYHQ/s1600/22.png?w=687&ssl=1)

To checklist of a web application, use list option along with the script.

```
./pentestLab.sh list
```

To start the web application, just write the name of web application after executable script as shown here.

```
./pentestLab.sh start juiceshop
```

![](https://i1.wp.com/1.bp.blogspot.com/-SK3CBChry4w/XZDqjzM0fyI/AAAAAAAAgw4/pKxrO_5FizIn69M89x4houIBjJ0Pqx-JwCLcBGAsYHQ/s1600/23.png?w=687&ssl=1)

Execute the following URL to browse the web application.

```
http://127.0.0.1  
or  
http://juiceshop
```

### Conclusion:

Vulnerable web application lab set-up using docker is very easy and fast as compared to other approaches. A pen-tester can easily set up his/her own vulnerable lab using docker in a very short period of time.

Hope you liked this technique to web application configuration.

Happy Hacking!!

![](https://i0.wp.com/1.bp.blogspot.com/-Zd2n8Jm07jU/XZDqkHrGz1I/AAAAAAAAgw8/9TopT5zxYfEkt43Mu_aTSeXdW6Y6NO1jwCLcBGAsYHQ/s1600/24.png?w=687&ssl=1)

**Author**: Kavish Tyagi is a Cybersecurity enthusiast and Researcher in the field of WebApp Penetration testing. Contact [**here**](https://www.linkedin.com/in/kavish-tyagi-844239125)

The post [Web Application Pentest Lab setup Using Docker](https://www.hackingarticles.in/web-application-pentest-lab-setup-using-docker/) appeared first on [Hacking Articles](https://www.hackingarticles.in).

  
  
from Hacking Articles https://ift.tt/2mGKqip